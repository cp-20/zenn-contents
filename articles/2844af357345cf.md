---
title: "Stylelintã§CSS-in-JSã‚’lintã™ã‚‹æ™‚ã«ãƒãƒã£ãŸã“ã¨"
emoji: "ğŸ’¡"
type: "tech"
topics:
  - "storybook"
  - "postcss"
  - "stylelint"
published: true
published_at: "2022-09-19 21:07"
---

## ãƒãƒã£ãŸãƒã‚¤ãƒ³ãƒˆ

Next.jsã®ã‚¢ãƒ—ãƒªã‚’ä½œã£ã¦ã‚‹æ™‚ã«Stylelintã¨Storybookã‚’åŒæ™‚ã«å…¥ã‚ŒãŸã‚‰ä¸‹ã®ã‚ˆã†ãªã‚¨ãƒ©ãƒ¼ãŒå‡ºãŸã€‚

```
TypeError: Cannot read properties of undefined (reading 'stringify')
    at Function.stringify (#####/node_modules/postcss-syntax/stringify.js:8:38)
    at MapGenerator.generate (#####/node_modules/stylelint/node_modules/postcss/lib/map-generator.js:323:12)
    at LazyResult.stringify (#####/node_modules/stylelint/node_modules/postcss/lib/lazy-result.js:277:20)
    at LazyResult.runAsync (#####/node_modules/stylelint/node_modules/postcss/lib/lazy-result.js:443:17)
    at LazyResult.async (#####/node_modules/stylelint/node_modules/postcss/lib/lazy-result.js:221:30)
    at LazyResult.then (#####/node_modules/stylelint/node_modules/postcss/lib/lazy-result.js:206:17)
```

## çµè«–

package.jsonã«æ¬¡ã®å†…å®¹ã‚’è¶³ã™ã€‚

```json
{
  "resolutions": {
    "stylelint/postcss": "8.4.14"
  }
}
```

â€» `resolutions`ã¯`yarn`ã§ã—ã‹ã‚µãƒãƒ¼ãƒˆã•ã‚Œã¦ã„ãªã„æ©Ÿèƒ½ãªã®ã§ã€`npm`ã‚’ä½¿ã£ã¦ã„ã‚‹å ´åˆã¯`npm-force-resolutions`ãªã©ã‚’ä½¿ã†å¿…è¦ãŒã‚ã‚‹ã€‚

## è§£èª¬(?)

ã‚¤ãƒã‚¤ãƒã‚ã‹ã£ã¦ãªã„ãŒã€`postcss-syntax`ã¨`postcss`ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ä¸æ•´åˆãŒå•é¡Œã£ã½ã„ï¼Ÿ

2022å¹´9æœˆ19æ—¥æ™‚ç‚¹ã®æœ€æ–°ã®`stylelint`ã¯`postcss@^8.4.16`ã«ä¾å­˜ã—ã¦ã„ã‚‹ãŒã€ã“ã‚Œã‚’`8.4.14`ã«å¤‰ãˆã‚‹ã¨å‹•ãã‚‰ã—ã„ã€‚`stylelint`ã«ä¾å­˜ã—ã¦ã„ã‚‹`postcss`ã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã‚’`resolutions`ã‚’ä½¿ã£ã¦å¼·åˆ¶çš„ã«`8.4.14`ã«å›ºå®šã—ã¦ã„ã‚‹ã€‚

ãªãœStorybookã‚’å…¥ã‚ŒãŸã‚‰ã‚¨ãƒ©ãƒ¼ãŒèµ·ã“ã£ãŸã®ã‹ã¯è¬ã€‚

## å‚è€ƒ

https://github.com/postcss/postcss/issues/1767